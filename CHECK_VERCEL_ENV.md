# üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ Environment Variables –≤ Vercel

## –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã, –Ω–æ –∫–æ–¥ –∏—Ö –Ω–µ –≤–∏–¥–∏—Ç

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

1. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ –≤ Production environment**
   - Vercel –∏–º–µ–µ—Ç 3 –æ–∫—Ä—É–∂–µ–Ω–∏—è: Production, Preview, Development
   - –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤ Preview/Development, –æ–Ω–∏ –Ω–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ Production

2. **–ù—É–∂–µ–Ω redeploy –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**
   - –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å redeploy
   - Vercel –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º

3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ (base64 —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)**
   - Vercel –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç –Ω–∞ —Ä–∞–∑–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–æ–±—ã—á–Ω–æ 4KB)
   - Base64 —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ
   - –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Vercel Secrets –∏–ª–∏ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ —á–∞—Å—Ç–∏

4. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π**
   - –ò–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–æ—á–Ω–æ: `APPLE_PASS_CERTIFICATE_PEM_BASE64` (–Ω–µ `apple_pass_certificate_pem_base64`)

## ‚úÖ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π endpoint

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ—Ç–∫—Ä–æ–π—Ç–µ:
```
https://www.zorinastudio-referral.com/api/test-apple-env
```

–≠—Ç–æ—Ç endpoint –ø–æ–∫–∞–∂–µ—Ç:
- –ö–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞–π–¥–µ–Ω—ã ‚úÖ
- –ö–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç ‚ùå
- –î–ª–∏–Ω—É base64 —Å—Ç—Ä–æ–∫ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ –æ–Ω–∏ –Ω–µ –ø—É—Å—Ç—ã–µ)

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Vercel Dashboard

1. **Vercel Dashboard** ‚Üí **Settings** ‚Üí **Environment Variables**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ **Production** (–∏–ª–∏ **All environments**)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—é—Ç (case-sensitive)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

1. **Vercel Dashboard** ‚Üí **Deployments** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
2. **Functions** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `/api/wallet/pass/[gan]`
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ - —Ç–∞–º –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ç–æ–º, –∫–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞–π–¥–µ–Ω—ã/–Ω–µ –Ω–∞–π–¥–µ–Ω—ã

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:

### –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –≤–∏–¥–Ω—ã:

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ –≤ Production:**
   - –í Vercel Dashboard –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤—ã–±–µ—Ä–∏—Ç–µ **Production** –∏–ª–∏ **All environments**
   - –ù–µ —Ç–æ–ª—å–∫–æ Preview/Development

2. **–°–¥–µ–ª–∞–π—Ç–µ redeploy:**
   - –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–∞–∂–º–∏—Ç–µ **Redeploy** –≤ Vercel Dashboard
   - –ò–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—ã–π commit –∏ push

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**
   - –ï—Å–ª–∏ base64 —Å—Ç—Ä–æ–∫–∞ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è, Vercel –º–æ–∂–µ—Ç –µ—ë –æ–±—Ä–µ–∑–∞—Ç—å
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º endpoint –¥–ª–∏–Ω—É —Å—Ç—Ä–æ–∫–∏

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–µ–Ω–∞:**
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–æ—á–Ω–æ: `APPLE_PASS_CERTIFICATE_PEM_BASE64`
   - –ù–µ `APPLE_PASS_CERTIFICATE_PEM_BASE64_` (—Å –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ–º –≤ –∫–æ–Ω—Ü–µ)
   - –ù–µ `apple_pass_certificate_pem_base64` (–≤—Å–µ –º–∞–ª–µ–Ω—å–∫–∏–µ)

## üìù –í–∞–∂–Ω–æ –¥–ª—è Next.js:

- **API Routes** (server-side): –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ `process.env` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **Client-side**: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ `next.config.js` ‚Üí `env`
- **Apple Wallet –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ API routes**, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

1. –£–¥–∞–ª–∏—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Apple Wallet –∏–∑ Vercel
2. –î–æ–±–∞–≤—å—Ç–µ –∏—Ö –∑–∞–Ω–æ–≤–æ, —É–±–µ–¥–∏–≤—à–∏—Å—å, —á—Ç–æ:
   - –ò–º–µ–Ω–∞ —Ç–æ—á–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
   - –ó–Ω–∞—á–µ–Ω–∏—è –Ω–µ –ø—É—Å—Ç—ã–µ
   - –í—ã–±—Ä–∞–Ω–æ **Production** environment
3. –°–¥–µ–ª–∞–π—Ç–µ redeploy
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π endpoint: `/api/test-apple-env`
