# –ó–∞—á–µ–º –Ω—É–∂–µ–Ω Base64 –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤?

## üéØ –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç

**Base64 –Ω—É–∂–µ–Ω –¢–û–õ–¨–ö–û –¥–ª—è Vercel (production).** –õ–æ–∫–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –Ω–∞–ø—Ä—è–º—É—é.

---

## üìã –î–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏

### 1Ô∏è‚É£ **–õ–æ–∫–∞–ª—å–Ω–æ (Development) - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª—ã**

–í `.env.local`:
```env
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º
APPLE_PASS_CERTIFICATE_PATH=./certs/pass-cert.pem
APPLE_PASS_KEY_PEM_BASE64=  # –ù–ï –ù–£–ñ–ù–û –ª–æ–∫–∞–ª—å–Ω–æ!
APPLE_WWDR_CERTIFICATE_PATH=./certs/wwdr.pem
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü—Ä–æ—â–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –§–∞–π–ª—ã —É–∂–µ –µ—Å—Ç—å –≤ –ø–∞–ø–∫–µ `certs/`

---

### 2Ô∏è‚É£ **Vercel (Production) - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Base64**

–í Vercel Environment Variables:
```env
# Base64 –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
APPLE_PASS_CERTIFICATE_PEM_BASE64=LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0t...
APPLE_PASS_KEY_PEM_BASE64=LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0t...
APPLE_WWDR_CERTIFICATE_BASE64=LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0t...
```

**–ü–æ—á–µ–º—É Base64 –≤ Vercel?**

1. **Vercel - serverless –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:**
   - –ù–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
   - –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏
   - –§–∞–π–ª—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

2. **Environment Variables - —ç—Ç–æ —Å—Ç—Ä–æ–∫–∏:**
   - Vercel —Ö—Ä–∞–Ω–∏—Ç —Å–µ–∫—Ä–µ—Ç—ã –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏
   - –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã - —ç—Ç–æ –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - Base64 –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç—Ä–æ–∫—É

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - –§–∞–π–ª—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤ `.gitignore` (–Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Git)
   - Environment Variables –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –≤ Vercel
   - –ù–µ –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∞–π–ª—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

---

## üîÑ –ö–∞–∫ –∫–æ–¥ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ø–æ—Å–æ–±?

–ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```javascript
// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ base64 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
const hasCertPemBase64 = process.env.APPLE_PASS_CERTIFICATE_PEM_BASE64
const hasKeyPemBase64 = process.env.APPLE_PASS_KEY_PEM_BASE64

// –ò–õ–ò –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º
const hasCertPath = CERT_PATH && CERT_PATH.trim()
const hasWwdrPath = WWDR_PATH && WWDR_PATH.trim()

// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ, —á—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ
if (hasCertPemBase64 && hasKeyPemBase64) {
  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Base64 (Vercel)
} else if (hasCertPath) {
  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª—ã (–ª–æ–∫–∞–ª—å–Ω–æ)
}
```

---

## üìù –†–µ–∑—é–º–µ

| –û–∫—Ä—É–∂–µ–Ω–∏–µ | –°–ø–æ—Å–æ–± | –ü–æ—á–µ–º—É |
|-----------|--------|--------|
| **–õ–æ–∫–∞–ª—å–Ω–æ** | –§–∞–π–ª—ã (`./certs/*.pem`) | –ü—Ä–æ—â–µ, —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã |
| **Vercel** | Base64 –≤ env vars | –ù–µ—Ç —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ |

---

## ‚úÖ –í—ã–≤–æ–¥

**Base64 –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è Vercel!** 

–õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```env
APPLE_PASS_CERTIFICATE_PATH=./certs/pass-cert.pem
APPLE_WWDR_CERTIFICATE_PATH=./certs/wwdr.pem
```

–ò –Ω–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ `APPLE_PASS_CERTIFICATE_PEM_BASE64` –≤ `.env.local` - —ç—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è Vercel!

